<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/* ======================================== */
/* === CHANGE THESE BASED ON YOUR GAME! === */
/* ======================================== */


// the link to your submission's gm48.net page
// example: http://gm48.net/?page=game&amp;id=53
gm48_game_link = "http://www.gm48.net/game/?id=300";

// leave this set to -1 for default font
gm48_text_font = -1;

// text outline [value of 0 (off) to 1 (full) intensity]
gm48_text_outline = 0.25;

// the max string length of your games title [0 = full text]
gm48_text_maxchar = 32;


/* ======================================== */
/* === DON'T CHANGE ANYTHING ELSE BELOW === */
/* ======================================== */

var pos = string_pos("id=",gm48_game_link);
if (pos != 0)
    {
    // game details
    gm48_game_id = string_copy(gm48_game_link,pos+3,string_length(gm48_game_link));
    gm48_title = "";
    
    // http requests
    game_title_req   = http_get("http://gm48.net/api/?id="+string(gm48_game_id));
    logo_default_req = http_get_file("http://gm48.net/img/gm48.png",working_directory+"\gm48logo_default.png");
    logo_mousein_req = http_get_file("http://gm48.net/img/gm48-white.png",working_directory+"\gm48logo_mousein.png");
    
    // drawing modifiers
    scale = 1.1;
    alpha = 0;
    }

// logo sprites
logo_default = -1;
logo_mousein = -1;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="1" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (sprite_exists(logo_default))
    sprite_delete(logo_default);

if (sprite_exists(logo_mousein))
    sprite_delete(logo_mousein);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="62">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>var request_id = ds_map_find_value(async_load,"id");
var status = ds_map_find_value(async_load,"status");
var result = ds_map_find_value(async_load,"result");

// we have a reply to a request
if (status == 0) and (result != "")
    {
    // default logo
    if (request_id == game_title_req)
        {
        var json_map = json_decode(result);
        if (json_map != -1)
            {
            gm48_title = ds_map_find_value(json_map,"title");
            
            if (gm48_text_maxchar &gt; 0)
                {
                if (string_length(gm48_title) &gt; gm48_text_maxchar)
                    {
                    var temp_str = gm48_title;
                    for(var i=0; i&lt;string_count(" ",gm48_title); i++;)
                        {
                        var pos = string_pos(" ",temp_str);
                        if (pos &lt; gm48_text_maxchar+1)
                            temp_str = string_replace(temp_str," ","_");
                        else
                            continue;
                        }
                    
                    var pos = string_pos(" ",temp_str);
                    if (pos != 0)
                        {
                        gm48_title = string_copy(gm48_title,0,pos-1);
                        gm48_title = string(gm48_title)+"...";
                        }
                    }
                }
            
            ds_map_destroy(json_map);
            }
        }
    else if (request_id == logo_default_req)
        {
        if (logo_default == -1) and (file_exists(working_directory+"\gm48logo_default.png"))
            logo_default = sprite_add(working_directory+"\gm48logo_default.png",0,0,0,100,50);
        }
    // mouse in logo
    else if (request_id == logo_mousein_req)
        {
        if (logo_mousein == -1) and (file_exists(working_directory+"\gm48logo_mousein.png"))
            logo_mousein = sprite_add(working_directory+"\gm48logo_mousein.png",0,0,0,100,50);
        }
    }
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>draw_set_font(gm48_text_font);

var hover = point_in_rectangle(mouse_x,mouse_y,x-96,y-32,x+96,y+64);

// if the sprites are loaded
if (sprite_exists(logo_default)) and (sprite_exists(logo_mousein))
    {
    sw = lerp(string_width("Slide your mouse here"),string_width("Click to rate "+string(gm48_title)),alpha);
    
    if (x &gt; view_wview[0]*0.65)
        {
        draw_set_halign(2);
        var dx = (x+88) + (alpha*8);
        
        if (alpha &gt; 0)
            {
            draw_set_color(c_black);
            draw_set_alpha(alpha*gm48_text_outline);
            draw_rectangle(dx+16,(y-42) - 5*alpha,(dx+16) - (sw+32),(y+72) + 5*alpha,0);
            }
        }
    else if (x &lt; view_wview[0]*0.35)
        {
        draw_set_halign(0);
        var dx = (x-88) - (alpha*8);
        
        if (alpha &gt; 0)
            {
            draw_set_color(c_black);
            draw_set_alpha(alpha*gm48_text_outline);
            draw_rectangle(dx-16,(y-42) - 5*alpha,(dx-16) + (sw+32),(y+72) + 5*alpha,0);
            }
        }
    else
        {
        draw_set_halign(1);
        dx = x;
        
        if (alpha &gt; 0)
            {
            draw_set_color(c_black);
            draw_set_alpha(alpha*gm48_text_outline);
            draw_rectangle(x - (sw/2 + 16),(y-42) - 5*alpha,x + (sw/2 + 16),(y+72) + 5*alpha,0);
            }
        }
    
    // mouse out
    if !(hover)
        {
        scale += (1.0-scale)*0.25;
        alpha += (0-alpha)*0.25;
        }
    else
    // mouse in
        {
        scale += (1.1-scale)*0.25;
        alpha += (1-alpha)*0.25;
        
        // link
        if (mouse_check_button_pressed(mb_left))
            url_open_ext(gm48_game_link,"_blank");
        }
    
    // mouse out
    if (alpha &lt; 0.9)
        {
        // outlines
        if (gm48_text_outline &gt; 0)
            {
            draw_sprite_ext(logo_default,0,x-1,y-1,scale,scale,0,c_black,(1-alpha)*gm48_text_outline);
            draw_sprite_ext(logo_default,0,x-1,y+1,scale,scale,0,c_black,(1-alpha)*gm48_text_outline);
            draw_sprite_ext(logo_default,0,x+1,y-1,scale,scale,0,c_black,(1-alpha)*gm48_text_outline);
            draw_sprite_ext(logo_default,0,x+1,y+1,scale,scale,0,c_black,(1-alpha)*gm48_text_outline);
            
            draw_set_color(c_black);
            draw_set_alpha((1-alpha)*gm48_text_outline);
            draw_text(dx-1,y+39 + alpha*5,"Slide your mouse here");
            draw_text(dx-1,y+41 + alpha*5,"Slide your mouse here");
            draw_text(dx+1,y+39 + alpha*5,"Slide your mouse here");
            draw_text(dx+1,y+41 + alpha*5,"Slide your mouse here");
            }
        
        // draw sprite
        draw_sprite_ext(logo_default,0,x,y,scale,scale,0,c_white,1);
        
        // draw text
        draw_set_color(c_white);
        draw_set_alpha((1-alpha));
        draw_text(dx,y+40 + alpha*5,"Slide your mouse here");
        }
    // mouse in
    if (alpha &gt; 0.1)
        {
        // draw sprite
        draw_sprite_ext(logo_mousein,0,x,y,scale,scale,0,c_white,alpha);
        
        // text
        draw_set_color(c_white);
        draw_set_alpha(alpha);
        draw_text(dx,y+40 + alpha*5,"Click to rate "+string(gm48_title));
        }
    }
else
    {
    draw_set_halign(fa_center);
    
    // text outline
    if (gm48_text_outline &gt; 0)
        {
        draw_set_color(c_black);
        draw_set_alpha(gm48_text_outline);
        draw_text(x-1,y+39,"Loading...");
        draw_text(x-1,y+41,"Loading...");
        draw_text(x+1,y+39,"Loading...");
        draw_text(x+1,y+41,"Loading...");
        }
    
    // text
    draw_set_color(c_white);
    draw_text(x,y+40,"Loading...");
    }

draw_set_halign(fa_left);
draw_set_color(c_black);
draw_set_alpha(1);
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
